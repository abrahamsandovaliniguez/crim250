<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Assignments</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Abraham's R Workspace</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Journal.html">Assignments</a>
</li>
<li>
  <a href="Links.html">Links</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Assignments</h1>

</div>


<div id="assignment-1" class="section level1">
<h1>Assignment 1</h1>
<div id="problem-1" class="section level3">
<h3>Problem 1</h3>
<p>Install the datasets package on the console below using <code>install.packages("datasets")</code>. Now load the library.</p>
<pre class="r"><code>library(datasets)</code></pre>
<p>Load the USArrests dataset and rename it <code>dat</code>. Note that this dataset comes with R, in the package datasets, so there’s no need to load data from your computer. Why is it useful to rename the dataset?</p>
<pre class="r"><code>dat &lt;- USArrests</code></pre>
</div>
<div id="problem-2" class="section level3">
<h3>Problem 2</h3>
<p>Use this command to make the state names into a new variable called State.</p>
<pre class="r"><code>dat$state &lt;- tolower(rownames(USArrests))
state &lt;- dat$state</code></pre>
<p>This dataset has the state names as row names, so we just want to make them into a new variable. We also make them all lower case, because that will help us draw a map later - the map function requires the states to be lower case.</p>
<p>List the variables contained in the dataset <code>USArrests</code>.</p>
<pre class="r"><code>names(dat)</code></pre>
<pre><code>## [1] &quot;Murder&quot;   &quot;Assault&quot;  &quot;UrbanPop&quot; &quot;Rape&quot;     &quot;state&quot;</code></pre>
</div>
<div id="problem-3" class="section level3">
<h3>Problem 3</h3>
<p>What type of variable (from the DVB chapter) is <code>Murder</code>?</p>
<p>Answer: According to the DVB reading, murder would be a quantitative variable within this particular context.</p>
<p>What R Type of variable is it?</p>
<p>Answer: Murder is a UNIVARIATE NON-GRAPHICAL variable in R.</p>
</div>
<div id="problem-4" class="section level3">
<h3>Problem 4</h3>
<p>What information is contained in this dataset, in general? What do the numbers mean?</p>
<p>Answer: The dataset’s variables compare the incidents or rates of murder, assault, and rape along state lines, as well as those of urban population sizes. Given the tenths decimal places featured in the categories of murder and rape, it is safe to assume those numbers present rates of reported incidents as neither murder nor rape can occur to a tenth degree. Assault, on the contrary, appears to be reported as raw, reported incidents given the data is presented as whole integers. The state category lists the various American states, adjacent to each states’ urban population. As a note, the urban population data is presented seemingly as either proportional integers or on a scale; to illustrate, any one state’s urban population data may identify what percentage of the state’s population lives in an urban center.</p>
</div>
<div id="problem-5" class="section level3">
<h3>Problem 5</h3>
<p>Draw a histogram of <code>Murder</code> with proper labels and title.</p>
<pre class="r"><code>hist(dat$Murder, main=&quot;Frequency of State Murder Rates&quot;,
     xlab=&quot;Murder Rate Per [X] People&quot;, ylab=&quot;Number of States&quot;,
     xlim=c(0,20), col=&quot;maroon&quot;, breaks=10, xaxp=c(0,20,10))</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="problem-6" class="section level3">
<h3>Problem 6</h3>
<p>Please summarize <code>Murder</code> quantitatively. What are its mean and median? What is the difference between mean and median? What is a quartile, and why do you think R gives you the 1st Qu. and 3rd Qu.?</p>
<pre class="r"><code>summary(dat)</code></pre>
<pre><code>##      Murder          Assault         UrbanPop          Rape      
##  Min.   : 0.800   Min.   : 45.0   Min.   :32.00   Min.   : 7.30  
##  1st Qu.: 4.075   1st Qu.:109.0   1st Qu.:54.50   1st Qu.:15.07  
##  Median : 7.250   Median :159.0   Median :66.00   Median :20.10  
##  Mean   : 7.788   Mean   :170.8   Mean   :65.54   Mean   :21.23  
##  3rd Qu.:11.250   3rd Qu.:249.0   3rd Qu.:77.75   3rd Qu.:26.18  
##  Max.   :17.400   Max.   :337.0   Max.   :91.00   Max.   :46.00  
##     state          
##  Length:50         
##  Class :character  
##  Mode  :character  
##                    
##                    
## </code></pre>
<p>The mean for murder is 7.788, which is the average of all state murder rates; the median of 7.25 is in contrast the figure at the middle of the string of variables if sequenced. The quartiles are the percentiles of the data. Combined, both the 1st and 3rd quartile depict where half the data lies betwee. That is, 25% of states have murder rates below 4.075, the 1st Quartile, while 75% of states have murder rates are less than 11.25. Likewise, 75% of states have murder rates higher than 4.075 and 25% of states have a murder rate higher than 11.25; 50% of states would thus have a murder rate between 4.075 and 11.25. R must provide the percentiles or quartiles to depict where half of the data lies between, presenting a numerical bell curve of sorts. *The .rmd file notably produces a summary of the state variable as well, with a length of 50 and a class and mode of character. The calculation, however, is cut out in the knitted pdf document.</p>
</div>
<div id="problem-7" class="section level3">
<h3>Problem 7</h3>
<p>Repeat the same steps you followed for <code>Murder</code>, for the variables <code>Assault</code> and <code>Rape</code>. Now plot all three histograms together. You can do this by using the command <code>par(mfrow=c(3,1))</code> and then plotting each of the three.</p>
<pre class="r"><code>par(mfrow=c(3,1))
hist(dat$Murder, main=&quot;Frequency of State Murder Rates&quot;,
     xlab=&quot;Murder Rate Per [X] People&quot;, ylab=&quot;Number of States&quot;,
     xlim=c(0,20), col=&quot;maroon&quot;, breaks=10, xaxp=c(0,20,10))
hist(dat$Assault, main=&quot;Frequency of States&#39; Reported Assaults&quot;,
     xlab=&quot;Incidents of Assault&quot;, ylab=&quot;Number of States&quot;,
     xlim=c(0,400), col=&quot;darkorange&quot;, breaks=10, xaxp=c(0,400,8))
hist(dat$Murder, main=&quot;Frequency of State Rape Rates&quot;, 
     xlab=&quot;Rape Rate Per [X] People&quot;, ylab=&quot;Number of States&quot;,
     xlim=c(0,20), col=&quot;brown&quot;, breaks=10, xaxp=c(0,20,10))</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-7-1.png" width="480" /></p>
<p>What does the command par do, in your own words (you can look this up by asking R <code>?par</code>)?</p>
<p>Answer: Command par allows you define the parameters of a graph or computation. In this specific case, we set the parameters to the entirety of three graphs, which are all included in one plot.</p>
<p>What can you learn from plotting the histograms together?</p>
<p>Answer: By plotting all three plots adjacent of one another, the combined graphic allows for a quick assessment of the number of states with varying assault, murder, and rape rates. The graph thus allows you for a quick comparison of central tendency, spread, skewness, and kurtosis for the various crimes.</p>
</div>
<div id="problem-8" class="section level3">
<h3>Problem 8</h3>
<p>In the console below (not in text), type <code>install.packages("maps")</code> and press Enter, and then type <code>install.packages("ggplot2")</code> and press Enter. This will install the packages so you can load the libraries.</p>
<p>Run this code:</p>
<pre class="r"><code># install.packages(&quot;maps&quot;)
# install.packages(&quot;ggplot2&quot;)
library(&#39;maps&#39;) 
library(&#39;ggplot2&#39;) 


ggplot(dat, aes(map_id=state, fill=Murder)) + 
  geom_map(map=map_data(&quot;state&quot;)) + 
  expand_limits(x=map_data(&quot;state&quot;)$long, y=map_data(&quot;state&quot;)$lat)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-8-1.png" width="720" /></p>
<p>What does this code do? Explain what each line is doing.</p>
<p>Answer: The code generates a map of the United States where each state is shaded according to their murder rate. States with darker shadings have lower murder rates as those with ligher shades have higher murder rates. The install commands download the graphed data, that is they download a map and hold the manipulated data. The ggplot command then creates the graph by loading the “dat” variable, which was predefined as the US Arrest data. The map is then divided along state lines and shaded according to the murder rate, per the map_id and fill command respectively. The geom_map command allows for additional manipulation to the states’ borders, defining each state alongside existing state boundaries. Finally, the expand_limits command expands the graph by manipulating the x and y axes.</p>
<p><span class="math display">\[\\[2in]\]</span></p>
</div>
</div>
<div id="assignment-2" class="section level1">
<h1>Assignment 2</h1>
<div id="problem-1-load-data" class="section level3">
<h3>Problem 1: Load data</h3>
<pre class="r"><code>dat &lt;- read.csv(file = &#39;assignment 2/dat.nsduh.small.1.csv&#39;)</code></pre>
<p>What are the dimensions of the dataset?</p>
<pre class="r"><code>names(dat)</code></pre>
<pre><code>## [1] &quot;mjage&quot;     &quot;cigage&quot;    &quot;iralcage&quot;  &quot;age2&quot;      &quot;sexatract&quot; &quot;speakengl&quot;
## [7] &quot;irsex&quot;</code></pre>
</div>
<div id="problem-2-variables" class="section level3">
<h3>Problem 2: Variables</h3>
<p>Describe the variables in the dataset. “mjage”: age of when participants first tried marijuana “cigage”: age of when participants first tried cigarettes “iralcage”: age of when participants first tried alcohol “age2”: calculated ages of participants given multiple responses “sexatract”:sexual attraction of participants “speakengl”: english proficiency level of participants “irsex”: sex of participants</p>
<p>What is this dataset about? Who collected the data, what kind of sample is it, and what was the purpose of generating the data? The dataset is collected from the National Study of Drug Use and Health, which seeks to identify the ages at which the study’s participants first began consuming alcohol, cigarettes, and marijuana. The study further collects data on its participants’ demographic data, such as age, gender, and sexual orientation, as well as English proficiency. The study’s variables are a mixture of categorical and quantitative variables. An example of the former, categorical, includes the sex, English proficiency, and sexual orientation variables. Others, such as the age variables, would be categorized as quantitative.</p>
</div>
<div id="problem-3-age-and-gender" class="section level3">
<h3>Problem 3: Age and gender</h3>
<p>What is the age distribution of the sample like? Make sure you read the codebook to know what the variable values mean.</p>
<pre class="r"><code>hist(dat$age2)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-11-1.png" width="672" /> The age distribution of the sample size is very heavily skewed towards individuals 35 to 49 years old, or rather the category associated with the age group is the largest proportionately. This may be because the younger age groups are split and divided along single years and later grouped in categories of growing margins. For example, ages 12 to 21 are all categories along single-year lines whereas ages 30 to 64 are all divided in three categories. The sum of the earlier younger ages may result in a more proportional balance of the different ages.</p>
<p>Do you think this age distribution representative of the US population? Why or why not? No, the distribution does not represent an accurate representation of the US population. This is due to two primary reasons, with the study’s intent being the most important. Because the study seeks to identify the ages at which its participants first began utilizing substances, its participants are not entirely random. The study was conducted for a purpose other than studying the US population, which may present sample size issues. An example of this influence is the lack of participants ages 12 and younger. The absence of this age group presents the second reason why the study cannot produce accurate figures on the US population.</p>
<p>Is the sample balanced in terms of gender? If not, are there more females or males? The sample size is nearly balanced; however, women do slightly outnumber men in a ratio of approximately 52 to 48.</p>
<p>Use this code to draw a stacked bar plot to view the relationship between sex and age. What can you conclude from this plot?</p>
<pre class="r"><code>tab.agesex &lt;- table(dat$irsex, dat$age2)
barplot(tab.agesex,
        main = &quot;Stacked barchart&quot;,
        xlab = &quot;Age category&quot;, ylab = &quot;Frequency&quot;,
        legend.text = rownames(tab.agesex),
        beside = FALSE)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-12-1.png" width="672" /> Stacked bars (default) The stacked bar plot above allows us to view the gender ratio of each individual age group. Most categories appear to be relatively balances, although there appear to be some notable exceptions. Columns 6, 7, and 17 are disproportionately male, whereas columns 8 and 9 are mostly comprised of women.</p>
</div>
<div id="problem-4-substance-use" class="section level3">
<h3>Problem 4: Substance use</h3>
<p>For which of the three substances included in the dataset (marijuana, alcohol, and cigarettes) do individuals tend to use the substance earlier? As can be seen below, the substance with the earliest apparent use is alcohol, which has the lowest mean, median, and first quarter figure, with the lowest reported minimum age.</p>
<pre class="r"><code>summary(dat)</code></pre>
<pre><code>##      mjage           cigage         iralcage          age2      
##  Min.   : 7.00   Min.   :10.00   Min.   : 5.00   Min.   : 4.00  
##  1st Qu.:14.00   1st Qu.:15.00   1st Qu.:13.00   1st Qu.:13.00  
##  Median :16.00   Median :17.00   Median :15.00   Median :15.00  
##  Mean   :15.99   Mean   :17.65   Mean   :14.95   Mean   :13.98  
##  3rd Qu.:17.50   3rd Qu.:19.00   3rd Qu.:17.00   3rd Qu.:15.00  
##  Max.   :35.00   Max.   :50.00   Max.   :23.00   Max.   :17.00  
##    sexatract       speakengl        irsex      
##  Min.   : 1.00   Min.   :1.00   Min.   :1.000  
##  1st Qu.: 1.00   1st Qu.:1.00   1st Qu.:1.000  
##  Median : 1.00   Median :1.00   Median :1.000  
##  Mean   : 3.07   Mean   :1.07   Mean   :1.468  
##  3rd Qu.: 1.00   3rd Qu.:1.00   3rd Qu.:2.000  
##  Max.   :99.00   Max.   :3.00   Max.   :2.000</code></pre>
<p>mjage: minimum age of 7 with a first quarter of 14 and a mean of 15.99. cigage: minimum age of 10 with a first quarter of 15 and a mean of 17.65. iralcage: minimum age of 5 with a first quarter of 13 and a mean of 14.95.</p>
</div>
<div id="problem-5-sexual-attraction" class="section level3">
<h3>Problem 5: Sexual attraction</h3>
<p>What does the distribution of sexual attraction look like? Is this what you expected?</p>
<pre class="r"><code>hist(dat$sexatract)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<pre class="r"><code>dat$sexatract.nas &lt;- ifelse(dat$sexatract==99, NA, dat$sexatract) 
dat$sexatract.nas</code></pre>
<pre><code>##   [1]  1  2  2  1  4  4  1  1  1  1  1  1  1  1  1  1  1  1  1  1  5  1  1  5  2
##  [26]  1  1  1  1 NA  1  1  1  2 NA  1  1  1  1  2  1  1  1  1  2  1  1  3  1  1
##  [51]  2  1  1  1  1  1  1  1  1  1  1  3  2  1  1  3  1  1  1  1  1  1  1  1  1
##  [76]  1  1  5  1  1  1  1  1  4  1  1  2  1  1  1  1  2  2  1  1  1  6  1  1  1
## [101]  1  1  1  1  1  1  3  1  1  2  3  1  2  1  1  1  1  1  1  1  3  1  1  1  1
## [126]  1  2  3  1  1  3  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
## [151]  1  1  1  1  1  1  1  1  1  1  2  1  1  2  1  1  1  1  3  1 NA</code></pre>
<pre class="r"><code>sexatract.no.nas &lt;- na.omit(dat$sexatract.nas)
barplot(table(sexatract.no.nas))</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-14-2.png" width="672" /> Yes, the unaltered histogram presents two notable columns, which represent the variables’ options of 1-6 and 85, 94, and 97-99. Most participants answered the survey, however nearly a quarter of participants were categorized in the latter portion of answers as they either skipped the question, left the answer blank, or refused. Respondents who participated and answered the question were overwhelmingly attracted to and only to members of the opposite sex; however, small, single-digit percentages did document being attracted to the same sex or both the opposite and same sex. The figures, which may not accurately represent the United States, are expected.</p>
<p>What is the distribution of sexual attraction by gender?</p>
<pre class="r"><code>tab.prefsex &lt;- table(dat$irsex, dat$sexatract.nas)
barplot(tab.prefsex,
        main = &quot;Stacked barchart&quot;,
        xlab = &quot;Sexual preference category&quot;, ylab = &quot;Frequency&quot;,
        legend.text = rownames(tab.prefsex),
        beside = FALSE)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-15-1.png" width="672" /> Each category has its own sex ratio. The first, 1, is nearly 2 to 3 men to women, while later options such as 2 and three are disproportionately comprised of women. Later options, such as 5 and 6 are mostly male.</p>
</div>
<div id="problem-6-english-speaking" class="section level3">
<h3>Problem 6: English speaking</h3>
<p>What does the distribution of English speaking look like in the sample? Is this what you might expect for a random sample of the US population?</p>
<pre class="r"><code>boxplot(table(dat$speakengl), ylim = c(0,100))</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-16-1.png" width="672" /> Yes, the vast majority of participants are English proficient with only a very small minority expressing hesitance with the language. The participants may not reflect the US population, however, as communities of particular groups, such as migrants, may be hesitant to participant in a study.</p>
<p>Are there more English speaker females or males?</p>
<pre class="r"><code>tab.engprof &lt;- table(dat$irsex, dat$speakengl)
barplot(tab.engprof,
        main = &quot;Stacked barchart&quot;,
        xlab = &quot;English proficiency category&quot;, ylab = &quot;Frequency&quot;,
        legend.text = rownames(tab.engprof),
        beside = FALSE)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-17-1.png" width="672" /> Most participants who answered they were English proficient were male.</p>
<p><span class="math display">\[\\[2in]\]</span></p>
</div>
</div>
<div id="midterm-1" class="section level1">
<h1>Midterm 1</h1>
<div id="instructions" class="section level3">
<h3>Instructions</h3>
<ol style="list-style-type: lower-alpha">
<li><p>Create a folder in your computer (a good place would be under Crim 250, Exams).</p></li>
<li><p>Download the dataset from the Canvas website (fatal-police-shootings-data.csv) onto that folder, and save your Exam 1.Rmd file in the same folder.</p></li>
<li><p>Download the README.md file. This is the codebook.</p></li>
<li><p>Load the data into an R data frame.</p></li>
</ol>
<pre class="r"><code>   dat &lt;- read.csv(&quot;midterm 1/fatal-police-shootings-data.csv&quot;)</code></pre>
</div>
<div id="problem-1-1" class="section level3">
<h3>Problem 1</h3>
<ol style="list-style-type: lower-alpha">
<li>Describe the dataset. This is the source: <a href="https://github.com/washingtonpost/data-police-shootings" class="uri">https://github.com/washingtonpost/data-police-shootings</a> . Write two sentences (max.) about this.</li>
</ol>
<p>The dataset, compiled by the Washington Post, seeks to maintain a record of all fatal police shootings since January 1, 2015. The dataset further elaborates on shooting incidents by tracking various variables, including the race of the deceased, the deceased’s mental health statuses, whether the deceased had a gun, and the circumstances surrounding their death.</p>
<ol start="2" style="list-style-type: lower-alpha">
<li>How many observations are there in the data frame?</li>
</ol>
<pre class="r"><code>   head(dat)</code></pre>
<pre><code>##   id               name       date  manner_of_death      armed age gender race
## 1  3         Tim Elliot 2015-01-02             shot        gun  53      M    A
## 2  4   Lewis Lee Lembke 2015-01-02             shot        gun  47      M    W
## 3  5 John Paul Quintero 2015-01-03 shot and Tasered    unarmed  23      M    H
## 4  8    Matthew Hoffman 2015-01-04             shot toy weapon  32      M    W
## 5  9  Michael Rodriguez 2015-01-04             shot   nail gun  39      M    H
## 6 11  Kenneth Joe Brown 2015-01-04             shot        gun  18      M    W
##            city state signs_of_mental_illness threat_level        flee
## 1       Shelton    WA                    True       attack Not fleeing
## 2         Aloha    OR                   False       attack Not fleeing
## 3       Wichita    KS                   False        other Not fleeing
## 4 San Francisco    CA                    True       attack Not fleeing
## 5         Evans    CO                   False       attack Not fleeing
## 6       Guthrie    OK                   False       attack Not fleeing
##   body_camera longitude latitude is_geocoding_exact
## 1       False  -123.122   47.247               True
## 2       False  -122.892   45.487               True
## 3       False   -97.281   37.695               True
## 4       False  -122.422   37.763               True
## 5       False  -104.692   40.384               True
## 6       False   -97.423   35.877               True</code></pre>
<p>By simply running “dat”, we can see that there are 6,594 rows of data with 17 columns. Said columns, which can be identified using the “names(dat)” command are as follows: “id”, “name”, “date”, “manner_of_death”, “armed”, “age”, “gender”, “race”, “city”, “state”, “signs_of_mental_illness”, “threat_level”, “flee”, “body_camera”, “longitude”, “latitude”, and“is_geocoding_exact”</p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Look at the names of the variables in the data frame. Describe what “body_camera”, “flee”, and “armed” represent, according to the codebook. Again, only write one sentence (max) per variable.</li>
</ol>
<pre class="r"><code> names(dat)</code></pre>
<pre><code>##  [1] &quot;id&quot;                      &quot;name&quot;                   
##  [3] &quot;date&quot;                    &quot;manner_of_death&quot;        
##  [5] &quot;armed&quot;                   &quot;age&quot;                    
##  [7] &quot;gender&quot;                  &quot;race&quot;                   
##  [9] &quot;city&quot;                    &quot;state&quot;                  
## [11] &quot;signs_of_mental_illness&quot; &quot;threat_level&quot;           
## [13] &quot;flee&quot;                    &quot;body_camera&quot;            
## [15] &quot;longitude&quot;               &quot;latitude&quot;               
## [17] &quot;is_geocoding_exact&quot;</code></pre>
<pre class="r"><code> #dat$body_camera
 #dat$flee
 #dat$armed</code></pre>
<p>The prior three listed variables all present various conditions on the shooting’s circumstances. “body_camera” explains whether the police officer was wearing a body camera during the interaction with the deceased. “flee” explains whether the deceased was moving away or fleeting from the police officers during the interaction and by what means, as reported by news reports. Lastly, “armed” details whether the victim was armed during the interaction with the officer and what object was believed to be the armed weapon.</p>
<ol start="4" style="list-style-type: lower-alpha">
<li>What are three weapons that you are surprised to find in the “armed” variable? Make a table of the values in “armed” to see the options.</li>
</ol>
<pre class="r"><code> table(dat$armed)</code></pre>
<pre><code>## 
##                                                   air conditioner 
##                              207                                1 
##                       air pistol                   Airsoft pistol 
##                                1                                3 
##                               ax                         barstool 
##                               24                                1 
##                     baseball bat          baseball bat and bottle 
##                               20                                1 
## baseball bat and fireplace poker           baseball bat and knife 
##                                1                                1 
##                            baton                           BB gun 
##                                6                               15 
##               BB gun and vehicle                     bean-bag gun 
##                                1                                1 
##                      beer bottle                       binoculars 
##                                3                                1 
##                     blunt object                           bottle 
##                                5                                1 
##                    bow and arrow                       box cutter 
##                                1                               13 
##                            brick              car, knife and mace 
##                                2                                1 
##                          carjack                            chain 
##                                1                                3 
##                        chain saw                         chainsaw 
##                                2                                1 
##                            chair              claimed to be armed 
##                                4                                1 
##               contractor&#39;s level                   cordless drill 
##                                1                                1 
##                         crossbow                          crowbar 
##                                9                                5 
##                        fireworks                         flagpole 
##                                1                                1 
##                       flashlight                      garden tool 
##                                2                                2 
##                      glass shard                          grenade 
##                                4                                1 
##                              gun                      gun and car 
##                             3798                               12 
##                    gun and knife                  gun and machete 
##                               22                                3 
##                    gun and sword                  gun and vehicle 
##                                1                               17 
##              guns and explosives                           hammer 
##                                3                               18 
##                       hand torch                          hatchet 
##                                1                               14 
##                  hatchet and gun                         ice pick 
##                                2                                1 
##                incendiary device                            knife 
##                                2                              955 
##                knife and vehicle                 lawn mower blade 
##                                1                                2 
##                          machete                  machete and gun 
##                               51                                1 
##                     meat cleaver                  metal hand tool 
##                                6                                2 
##                     metal object                       metal pipe 
##                                5                               16 
##                       metal pole                       metal rake 
##                                4                                1 
##                      metal stick                       microphone 
##                                3                                1 
##                       motorcycle                         nail gun 
##                                1                                1 
##                              oar                       pellet gun 
##                                1                                3 
##                              pen                     pepper spray 
##                                1                                2 
##                         pick-axe                    piece of wood 
##                                4                                7 
##                             pipe                        pitchfork 
##                                7                                2 
##                             pole                   pole and knife 
##                                3                                2 
##                  railroad spikes                             rock 
##                                1                                7 
##                    samurai sword                         scissors 
##                                4                                9 
##                      screwdriver                     sharp object 
##                               16                               14 
##                           shovel                            spear 
##                                7                                2 
##                          stapler              straight edge razor 
##                                1                                5 
##                            sword                            Taser 
##                               23                               34 
##                        tire iron                       toy weapon 
##                                4                              226 
##                          unarmed                     undetermined 
##                              421                              188 
##                   unknown weapon                          vehicle 
##                               82                              213 
##                  vehicle and gun              vehicle and machete 
##                                8                                1 
##                    walking stick                       wasp spray 
##                                1                                1 
##                           wrench 
##                                1</code></pre>
<p>The objects that most surprised me were a flagpole, binoculars, and air conditioner.</p>
</div>
<div id="problem-2-1" class="section level3">
<h3>Problem 2</h3>
<ol style="list-style-type: lower-alpha">
<li>Describe the age distribution of the sample. Is this what you would expect to see?</li>
</ol>
<pre class="r"><code> hist(dat$age)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>The distribution of dat$age is right-skewed with a median of 35 but a mean of 37.12. This indicates that most victims of police fatality shootings were younger individuals between the ages of 27 and 45, per the first and third percentiles The findings are expected as individuals of this age group are more likely to be out committing crimes and then fleeing or objecting to arrest with weapons, relative to the elderly or very young children. There are also no unrealistic outliers in the dataset.</p>
<ol start="2" style="list-style-type: lower-alpha">
<li>To understand the center of the age distribution, would you use a mean or a median, and why? Find the one you picked.</li>
</ol>
<pre class="r"><code> summary(dat$age)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
##    6.00   27.00   35.00   37.12   45.00   91.00     308</code></pre>
<p>Due to the lack of outliers and the seemingly representative, normal distribution of the data, I would opt for the mean as it would allow for better calculations with age as a quantitative variable. While the distribution is slightly skewed, there are little concerns about the tail variables throwing off the study. In fact, their inclusion would be ideal.</p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Describe the gender distribution of the sample. Do you find this surprising?</li>
</ol>
<pre class="r"><code># table(dat$gender)
pie(table(dat$gender))</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<pre class="r"><code>#barplot(table(dat$gender))</code></pre>
<p>The distribution of gender is very heavily male-dominate. There are 6298 male incidents of fatal police shootings to 293 for female victims, with 3 cases being outliners. As can be seen in the pie chart, males are the vast majority of victims in police shootings. Women are approximately 4.65% of cases while men are 95. 35% of cases. I opted for a pie chart over a barplot to highlight the overwhelming ratio; however, both graphs can be used for gender/sex comparisons.</p>
</div>
<div id="problem-3-1" class="section level3">
<h3>Problem 3</h3>
<ol style="list-style-type: lower-alpha">
<li>How many police officers had a body camera, according to news reports? What proportion is this of all the incidents in the data? Are you surprised that it is so high or low?</li>
</ol>
<pre class="r"><code> table(dat$body_camera)</code></pre>
<pre><code>## 
## False  True 
##  5684   910</code></pre>
<p>As reported by R, 5684 police officers were not wearing body cameras while only 910 were; that is, approximately 86.2% of police officers in all of the Washington Post’s documented fatal shootings were not wearing body cameras, while only 13.8% were indeed wearing body cameras. The report is surprising given how widespread body camera use has become nationwide. As an individual, I am also conflicted that such a large percentage of police shootings went undocumented by the police officers’ account. That presents issues for accountability assuming police officers were acting in ill standards. The percentage may be slim but for 86.2% of all documented fatal shootings to be unrecorded from the police officer’s point of view is troubling.</p>
<ol start="2" style="list-style-type: lower-alpha">
<li>In how many of the incidents was the victim fleeing? What proportion is this of the total number of incidents in the data? Is this what you would expect?</li>
</ol>
<pre class="r"><code> table(dat$flee)</code></pre>
<pre><code>## 
##                     Car        Foot Not fleeing       Other 
##         491        1058         845        3952         248</code></pre>
<p>The table command indicates that there were 3952 cases of victims not fleeing, with 1058 incidents of victims fleeing in a car, 845 via foot, or 248 by other means for a total of 2151 fleeing individuals. The final proportions are thus 59.9% of victims not fleeing and 32.6% of victims fleeing either via car, foot, or other means. As a note, there are 491 cases of missing variables. The findings are therefore puzzling as only approximately a third of fatal police shooting victims were fleeing. The approximate percent of 59.9% of victims who were not fleeing is troubling from the civilian’s perspective.</p>
</div>
<div id="problem-4-1" class="section level3">
<h3>Problem 4</h3>
<ol style="list-style-type: lower-alpha">
<li>Describe the relationship between the variables “body camera” and “flee” using a stacked barplot. What can you conclude from this relationship?</li>
</ol>
<p><em>Hint 1: The categories along the x-axis are the options for “flee”, each bar contains information about whether the police officer had a body camera (vertically), and the height along the y-axis shows the frequency of that category).</em></p>
<p><em>Hint 2: Also, if you are unsure about the syntax for barplot, run ?barplot in R and see some examples at the bottom of the documentation. This is usually a good way to look up the syntax of R code. You can also Google it.</em></p>
<pre class="r"><code># dat$body_camera
# dat$flee
tab.cameraflee &lt;- table(dat$body_camera, dat$flee)
barplot(tab.cameraflee,
        main = &quot;Worn Body Cameras by Incidents of Fleeing&quot;,
        xlab = &quot;Fleeting Conditions or Means&quot;, ylab = &quot;Frequency&quot;,
        legend.text = rownames(tab.cameraflee),
        ylim = c(0, 5000),
        beside = FALSE)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>The relationship between variables body_camera and fleeing detail what proportion of incidents involving victims fleeing form the police were recorded by police body cameras. As can be noted, police body cameras were not present across all incidents of fleeing or the lack thereof as well. Most cases involving police body cameras were those where the victim was not fleeing. As a note, the column furthest on the left includes incidents of missing variables where the fleeing condition is unknown. We still see here that police body cameras were still not widely used.</p>
<p>Extra credit</p>
<ol style="list-style-type: lower-alpha">
<li>What does this code tell us?</li>
</ol>
<pre class="r"><code>mydates &lt;- as.Date(dat$date)
head(mydates)
(mydates[length(mydates)] - mydates[1])</code></pre>
<p>The code presents an ordinal sequence for the dates in the dataset, during which all incidents of police shootings were captured. “mydates &lt;- as.Date(dat$date)” reformates the “date” variable as dates in R, with “head(mydates)” presenting a brief summary of the first few entires. The command “(mydates[length(mydates)] - mydates[1])” then subtracts the final date entry from the first in order to conclude how many dates are included overall in the dataset. There are 2458 days for a total of 6,594 fatal police shootings.</p>
<ol start="2" style="list-style-type: lower-alpha">
<li>On Friday, a new report was published that was described as follows by The Guardian: “More than half of US police killings are mislabelled or not reported, study finds.” Without reading this article now (due to limited time), why do you think police killings might be mislabelled or underreported?</li>
</ol>
<p>Police shootings may be mislabelled or underreported due to the presence of missing variables. For values such as fleeing, armed, and race, there are various missing variables. The result creates some uncertainty about specific statistical findings. The main reason, however, for why cases may be underreported or mislabelled has to do with the lack of a concrete dataset. Various institutions and organizations nationwide document fatal police shootings but, as stated, the figures are non-exhaustive. The Washington Post has alone documented more than twice the recorded fatal police shooting incidents than the FBI and the Centers for Disease Control and Prevention. Existing datasets are further jeopardized by the inconsistency of local police office in incident reporting as each department and office can report cases distinctly.</p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Regarding missing values in problem 4, do you see any? If so, do you think that’s all that’s missing from the data?</li>
</ol>
<p>Yes, there are approximately 500 missing fleeing values in problem 4. I am unable to determine, however, if the missing variables are solely absent from the fleeing variable or if they have broader absent values as well. I will note, however, that the variable “body_camera” has 6594 cases and “gender” has 6591 complete variables. Their near completion indicates that some variables are indeed exhaustive or missing just 3 entries. Thus, I am unable to determine whether the missing fleeing variables are an anomaly or whether data is consistently absent.</p>
<pre class="r"><code>#table(dat$gender)
#table(dat$body_camera)</code></pre>
<p><span class="math display">\[\\[2in]\]</span></p>
</div>
</div>
<div id="assignment-3" class="section level1">
<h1>Assignment 3</h1>
<p>Load the data.</p>
<pre class="r"><code>library(readr)
library(knitr)
dat &lt;- read.csv(file = &quot;assignment 3/crime_simple.txt&quot;)</code></pre>
<p>This is a dataset from a textbook by Brian S. Everitt about crime in the US in 1960. The data originate from the Uniform Crime Report of the FBI and other government sources. The data for 47 states of the USA are given.</p>
<div id="codebook" class="section level3">
<h3>Codebook:</h3>
<p>R: Crime rate: # of offenses reported to police per million population</p>
<p>Age: The number of males of age 14-24 per 1000 population</p>
<p>S: Indicator variable for Southern states (0 = No, 1 = Yes)</p>
<p>Ed: Mean of years of schooling x 10 for persons of age 25 or older</p>
<p>Ex0: 1960 per capita expenditure on police by state and local government</p>
<p>Ex1: 1959 per capita expenditure on police by state and local government</p>
<p>LF: Labor force participation rate per 1000 civilian urban males age 14-24</p>
<p>M: The number of males per 1000 females</p>
<p>N: State population size in hundred thousands</p>
<p>NW: The number of non-whites per 1000 population</p>
<p>U1: Unemployment rate of urban males per 1000 of age 14-24</p>
<p>U2: Unemployment rate of urban males per 1000 of age 35-39</p>
<p>W: Median value of transferable goods and assets or family income in tens of $</p>
<p>X: The number of families per 1000 earning below 1/2 the median income</p>
<p>We are interested in checking whether the reported crime rate (# of offenses reported to police per million population) and the average education (mean number of years of schooling for persons of age 25 or older) are related.</p>
</div>
<div id="problem-1." class="section level3">
<h3>Problem 1.</h3>
<p>How many observations are there in the dataset? To what does each observation correspond?</p>
<pre class="r"><code>dat.crime</code></pre>
<p>The overall “dat” dataset has fifty rows of data, with each row corresponding to a state. With the four variables of murder, assault, urban population, and rape, as well as an identifying state name value, the dataset lists rape and murder rates, as well as total cases of assault, in relation to states’ urban populations. In contrast, the “dat.crime” dataset has 47 rows of data with 14 variables, or columns. Each row once again corresponds to a state’s reported crime rate with their respective demographic information.</p>
</div>
<div id="problem-2." class="section level3">
<h3>Problem 2.</h3>
<p>Draw a scatterplot of the two variables. Calculate the correlation between the two variables. Can you come up with an explanation for this relationship?</p>
<pre class="r"><code>crime.lm &lt;- plot(dat.crime$R, dat.crime$Ed,  main=&quot;States&#39; Crime Levels by Education Levels&quot;,
    xlab=&quot;(reported offenses per one million people)&quot;, ylab=&quot;(mean years of schooling (x10) for ages 25 and older)&quot;)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-32-1.png" width="576" /></p>
<pre class="r"><code>cor(dat.crime$R, dat.crime$Ed)</code></pre>
<pre><code>## [1] 0.3228349</code></pre>
<pre class="r"><code>par(mfrow=c(2,1))
plot(dat.crime$R, dat.crime$Ed,  main=&quot;States&#39; Crime Levels by Education Levels&quot;,
    xlab=&quot;(reported offenses per one million people)&quot;, ylab=&quot;(mean years of schooling (x10) for ages 25 and older)&quot;, xlim=c(0,200), ylim=c(0,140))
plot(dat.crime$R, dat.crime$Ed,  main=&quot;States&#39; Crime Levels by Education Levels&quot;,
    xlab=&quot;(reported offenses per one million people)&quot;, ylab=&quot;(mean years of schooling (x10) for ages 25 and older)&quot;)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<p>The calculated correlation between years of education and reported crime is 0.3228349. The relationship between the two variables thus appears to be low and statistically insignificant as the calculated value is a mere 0.3228349. The existing correlation may be a consequence of external forces. Disparities in schooling requirements may for example skew both variables as residents of particularly large or small states may be required to continue attending or deterred from remaining in school. The differences in social action may contribute to the formulation of an insignificant correlation. Visually, as indicated in the first graph, most plots appear to be scattered randomly across the determined scales. Fitting a regression line would be difficult for such a distribution. While the distribution does appear to become more narrowed once the scale is made to include 0 as the minimum value for the x- and y-axis, the distribution appears to be a consequence of the graph’s manipulation rather than the variable’s relationship.</p>
</div>
<div id="problem-3." class="section level3">
<h3>Problem 3.</h3>
<p>Regress reported crime rate (y) on average education (x) and call this linear model <code>crime.lm</code> and write the summary of the regression by using this code, which makes it look a little nicer <code>{r, eval=FALSE} kable(summary(crime.lm)$coef, digits = 2)</code>.</p>
<pre class="r"><code>dat.crime$R.c = scale(dat.crime$R, center=TRUE, scale=FALSE) # scaling the data
crime.lm &lt;- lm(R ~ Ed, data = dat.crime) # running regression
summary(crime.lm) # calling the summary of the fitted model</code></pre>
<pre><code>## 
## Call:
## lm(formula = R ~ Ed, data = dat.crime)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -60.061 -27.125  -4.654  17.133  91.646 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)  
## (Intercept) -27.3967    51.8104  -0.529   0.5996  
## Ed            1.1161     0.4878   2.288   0.0269 *
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 37.01 on 45 degrees of freedom
## Multiple R-squared:  0.1042, Adjusted R-squared:  0.08432 
## F-statistic: 5.236 on 1 and 45 DF,  p-value: 0.02688</code></pre>
<pre class="r"><code>kable(summary(crime.lm)$coef, digits = 2) # making the summary look nicer</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Estimate</th>
<th align="right">Std. Error</th>
<th align="right">t value</th>
<th align="right">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">-27.40</td>
<td align="right">51.81</td>
<td align="right">-0.53</td>
<td align="right">0.60</td>
</tr>
<tr class="even">
<td align="left">Ed</td>
<td align="right">1.12</td>
<td align="right">0.49</td>
<td align="right">2.29</td>
<td align="right">0.03</td>
</tr>
</tbody>
</table>
</div>
<div id="problem-4." class="section level3">
<h3>Problem 4.</h3>
<p>Are the four assumptions of linear regression satisfied? To answer this, draw the relevant plots. (Write a maximum of one sentence per assumption.) 1. The linearity assumption is not satisfied as the residuals versus x graph depicts a patterned upward distribution, which should be flat and roughly evenly distributed; the residuals versus fitted plot also does not follow a straight line.</p>
<pre class="r"><code>par(mfrow=c(2,1))
plot(dat.crime$R.c, crime.lm$residuals, main=&quot;Residuals vs. x&quot;, xlab=&quot;x, Scaled Crime&quot;, ylab=&quot;Residuals&quot;)
abline(h = 0, lty=&quot;dashed&quot;)
plot(crime.lm, which=1)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<ol start="2" style="list-style-type: decimal">
<li>The independence assumption is not satisfied as, once again, a pattern can be noted in the distribution for residuals versus x.</li>
</ol>
<pre class="r"><code>plot(dat.crime$R.c, crime.lm$residuals, main=&quot;Residuals vs. x&quot;, xlab=&quot;x, Scaled Crime&quot;, ylab=&quot;Residuals&quot;)
abline(h = 0, lty=&quot;dashed&quot;)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li>The equal variance assumption/homoscedasticity is not satisfied as the line is curved in the scale location plot and appears to fan out from a few relatively constant variables near the x value of 80 to a wide distribution where x&gt;85.</li>
</ol>
<pre class="r"><code>plot(crime.lm, which=3)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<ol start="4" style="list-style-type: decimal">
<li>The normal population assumption is not satisfied as both ends of the QQ plot appear to be heavily skewed leftward of the fitted line.</li>
</ol>
<pre class="r"><code>plot(crime.lm, which=2)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<pre class="r"><code>plot(crime.lm, which=5)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-38-2.png" width="672" /></p>
</div>
<div id="problem-5." class="section level3">
<h3>Problem 5.</h3>
<p>Is the relationship between reported crime and average education statistically significant? Report the estimated coefficient of the slope, the standard error, and the p-value. What does it mean for the relationship to be statistically significant?</p>
<p>The relationship between reported crime and average education is not statistically significant, with a reported estimated coefficient of 1.1161 for the slope, 0.4878 for the standard error, and 0.0269 for a one star p-value. In order for the relationship to be significant, the error value would have to be lower with a smaller decimal for the p-value, as well as a greater slope marking a stronger or more drastic relationship between the two variables. Had the variables had appropriate coefficients, then education level and reported crime rate may have had a correlatory relationship; however, such assessment would require additional information and studies.</p>
</div>
<div id="problem-6." class="section level3">
<h3>Problem 6.</h3>
<p>How are reported crime and average education related? In other words, for every unit increase in average education, how does reported crime rate change (per million) per state?</p>
<p>The calculated correlation between 1 year of education, expressed in values of ten, is 1.1161 per 100 million people in a given state. The finding would suggest 1 marginal year of education would equate to a 8.96 million increase in additional reported crimes.</p>
</div>
<div id="problem-7." class="section level3">
<h3>Problem 7.</h3>
<p>Can you conclude that if individuals were to receive more education, then crime will be reported more often? Why or why not?</p>
<p>As stated, the relationship between the two variables appears to be low and reinstates the importance of differentiating correlation and causation, as well as the importance of assessing findings. The estimated coefficients not only indicate a weak statistical relationship but the derived weak correlation could be affected by external social forces. Determining any positive or negative relationship would thus be illogical. You cannot conclude that if individuals were to receive more education, then crime would be reported at higher rates.</p>
<p><span class="math display">\[\\[2in]\]</span></p>
</div>
</div>
<div id="midterm-2" class="section level1">
<h1>Midterm 2</h1>
<div id="problem-1-eda" class="section level3">
<h3>Problem 1: EDA</h3>
<p>Describe the dataset and variables. Perform exploratory data analysis for the two variables of interest: funds and po.brut.</p>
<pre class="r"><code>dat &lt;- read.csv(file = &#39;midterm 2/sim.data.csv&#39;)
head(dat)</code></pre>
<pre><code>##   po.dept.code funds po.brut
## 1            1  48.1      23
## 2            2  81.4      10
## 3            3  41.8      25
## 4            4  61.7      19
## 5            5  86.4       8
## 6            6  51.6      22</code></pre>
<pre class="r"><code>summary(dat$funds)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   21.40   51.67   59.75   61.04   72.17   99.70</code></pre>
<pre class="r"><code>summary(dat$po.brut)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    0.00   14.00   19.00   18.14   22.00   29.00</code></pre>
<pre class="r"><code>par(mfrow=c(2,1))
hist(dat$funds)
hist(dat$po.brut)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
<p>The dataset contains 200 rows of data with three columns: po.dept.code, funds, and po.brut. The first variable serves as an identifer, providing each studied police department with a unique variable for later reference. The second deliniates how much funding the respective police department recieves, with the last being the incidents of police brutality. The early data analysis indicates there are an average of 61 million dollars provided in funds to police departments and 18 cases of police brutality. Further, as indicated by the histograms, both variables appear to have normal distributions with no significant outliers.</p>
</div>
<div id="problem-2-linear-regression" class="section level3">
<h3>Problem 2: Linear regression</h3>
<ol style="list-style-type: lower-alpha">
<li>Perform a simple linear regression to answer the question of interest. To do this, name your linear model “reg.output” and write the summary of the regression by using “summary(reg.output)”.</li>
</ol>
<pre class="r"><code>reg.output &lt;- lm(po.brut ~ funds, data = dat)
summary(reg.output)</code></pre>
<pre><code>## 
## Call:
## lm(formula = po.brut ~ funds, data = dat)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.9433 -0.2233  0.2544  0.5952  1.1803 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 40.543069   0.282503  143.51   &lt;2e-16 ***
## funds       -0.367099   0.004496  -81.64   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.9464 on 198 degrees of freedom
## Multiple R-squared:  0.9712, Adjusted R-squared:  0.971 
## F-statistic:  6666 on 1 and 198 DF,  p-value: &lt; 2.2e-16</code></pre>
<ol start="2" style="list-style-type: lower-alpha">
<li>Report the estimated coefficient, standard error, and p-value of the slope. Is the relationship between funds and incidents statistically significant? Explain.</li>
</ol>
<p>Estimated coefficient: -0.367099</p>
<p>Estimated standard error: 0.004496</p>
<p>Estimated p-value of the slope: &lt;2e-16 ***</p>
<p>According to the estimated results for the linear regression, it appears we can reject the null hypothesis as there does indeed seem to be a significant correlation between increased marginal funding and decreasing incidents of police brutality. If noted, the estimated t-value is -81.64, which is significantly removed from the value of 0, thus allowing us to reject the null hypothesis. Further, with an estimated t value less than 2e-16, the relationship was generated a three star significance code, the highest of significant codes for correlation between two variables. The value is additionally complimented by a very low estimated standard error value, indicating a significant relationship. However, the difference between correlation and causation must be highlighted once again. It may be possible that the marginal funds provided are not causing the decrease in incidents, but rather the funding of possible programs that is enabled by additional funding. That is to say, there does appear to be a relationship between funding and incidents; yet, the relationship may not be causational and, thus, the correlation must be assessed critically.</p>
<ol start="3" style="list-style-type: lower-alpha">
<li>Draw a scatterplot of po.brut (y-axis) and funds (x-axis). Right below your plot command, use abline to draw the fitted regression line, like this:</li>
</ol>
<pre class="r"><code># Remember to remove eval=FALSE!!
plot(dat$funds, dat$po.brut)
abline(reg.output, col = &quot;red&quot;, lwd=2)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-41-1.png" width="384" /> Does the line look like a good fit? Why or why not?</p>
<p>The fitted line does appear to be a good fit. While there are a few outliers, particularly in the data’s rightward and leftward values, most entries generally fall close near the produced line. The slope of the fitted line additionally follows the general distribution of the dataset.</p>
<ol start="4" style="list-style-type: lower-alpha">
<li>Are the four assumptions of linear regression satisfied? To answer this, draw the relevant plots. (Write a maximum of one sentence per assumption.) If not, what might you try to do to improve this (if you had more time)?</li>
</ol>
<ol style="list-style-type: decimal">
<li>Linearity assumption is not satisfied as the first graph, residuals vs x, depict a patterned distribution when it should be flat and the second graph, residuals vs fitted, has a significantly curved line that should be flat.</li>
</ol>
<pre class="r"><code>plot(dat$funds, reg.output$residuals, main=&quot;Residuals vs. x&quot;, xlab=&quot;x, Funding&quot;, ylab=&quot;Residuals&quot;)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
<pre class="r"><code>plot(reg.output, which = 1)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-42-2.png" width="672" /> 2) The independence assumption is not satisfied as the produced graph, residuals vs x, displays a pattern between the two variables, suggesting a failure of independence.</p>
<pre class="r"><code>plot(dat$funds, reg.output$residuals, main=&quot;Residuals vs. x&quot;, xlab=&quot;x, Funding&quot;, ylab=&quot;Residuals&quot;)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-43-1.png" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li>The equal variance assumption, or homoscedasticity, is not satisfied as the produced red line features significant trends, informing us that the residuals and hence errors have non-constant variance.</li>
</ol>
<pre class="r"><code>plot(reg.output, which = 3)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-44-1.png" width="672" /></p>
<ol start="4" style="list-style-type: decimal">
<li>The normal population assumption does not appear to be satisfied as both ends of the QQ plot appear to be skewed, particularly the rightward portion which features significant outliers.</li>
</ol>
<pre class="r"><code>plot(reg.output, which = 2)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-45-1.png" width="672" /></p>
<ol start="5" style="list-style-type: lower-alpha">
<li>Answer the question of interest based on your analysis.</li>
</ol>
<p>Question of interest: does having more funding in a police department lead to fewer incidents of police brutality?</p>
<p>Answer: The data has indicated that no significant relationship can be derived from the increased marginal funding and incidents of police brutality. While the initial linear regression estimated a significant relationship between the two variables, the four assumptions all failed to be satisfied. The incident highlights the importance of both running the linear regression model and assessing all four assumptions. This case may be the result of estimated correlatory figures depicting a significant relationship with erroneous sample data. We can thus justify the acceptance of the null hypothesis, despite a remarkably low t value. With none of the four assumptions being satisfied, my previous remarks on the estimated relationship must be rescinded. We accept the null hypothesis and remain skeptical of a bilateral relationship between police funding and incidents of police brutality.</p>
</div>
<div id="problem-3-2" class="section level3">
<h3>Problem 3:</h3>
<p>Describe the dataset. Considering our lecture on data ethics, what concerns do you have about the dataset? Once you perform your analysis to answer the question of interest using this dataset, what concerns might you have about the results?</p>
<p>While assessing the data, I had various concerns regarding the dataset. For starters, there are continued issues in police reporting as law enforcement departments are often incentivized to underreport cases of brutality, skewing the figures. In fact, these very skewed figures may explain why the four tested assumptions failed despite a significant estimated relationship between the funding and incident variables. A reason behind the assumptions’ failures may be that the data itself was errneous, which could occur if figures were intentionally misrepresented. The result is most concerning as an initial linear regression assessment could have led may, particularly those who failed to assess the assumptions, to believe there is indeed a relationship between the two variables. The finding could have translated into policy, which would have been founded on ill-assessed asssessments.</p>
<p><span class="math display">\[\\[2in]\]</span></p>
</div>
</div>
<div id="assignment-4" class="section level1">
<h1>Assignment 4</h1>
<pre class="r"><code>library(tidyverse)
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) ## makes a scatterplot</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-1.png" width="672" /></p>
<pre class="r"><code>## template: ggplot(data = &lt;DATA&gt;) + &lt;GEOM_FUNCTION&gt;(mapping = aes(&lt;MAPPINGS&gt;)); + goes on first row

ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, color = class)) ## aes variable allows for differentiated mapping of data distributions</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-2.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, size = class)) ## use size as a class, rather than color</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-3.png" width="672" /></p>
<pre class="r"><code># Left: alpha 
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, alpha = class)) ## alpha class plots with transparency</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-4.png" width="672" /></p>
<pre class="r"><code># Right
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy, shape = class)) ## shape class plots with distinct shapes</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-5.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy), color = &quot;blue&quot;) ## color goes outside of the aes command</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-6.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) +  ##create a facet formula; distinct than grid
  facet_wrap(~ class, nrow = 2)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-7.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + 
  geom_smooth(mapping = aes(x = displ, y = hwy)) ## geom_smooth converts scatterplot to a range</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-8.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + 
  geom_smooth(mapping = aes(x = displ, y = hwy, linetype = drv)) ## &quot;linetype = drv)&quot; made overlapping graphs</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-9.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy)) + ##include the plus on the end of the line for overlapping
  geom_smooth(mapping = aes(x = displ, y = hwy))</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-10.png" width="672" /></p>
<pre class="r"><code>ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_point(mapping = aes(color = class)) + 
  geom_smooth(data = filter(mpg, class == &quot;subcompact&quot;), se = FALSE) ## allows for local mapping classes without creating duplicates </code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-11.png" width="672" /></p>
<pre class="r"><code>base &lt;- ggplot(mpg, aes(displ, hwy)) +
  geom_point(aes(colour = class))

base + theme(legend.position = &quot;left&quot;)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-12.png" width="672" /></p>
<pre class="r"><code>base + theme(legend.position = &quot;top&quot;)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-13.png" width="672" /></p>
<pre class="r"><code>base + theme(legend.position = &quot;bottom&quot;)</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-14.png" width="672" /></p>
<pre class="r"><code>base + theme(legend.position = &quot;right&quot;) # the default</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-15.png" width="672" /></p>
<pre class="r"><code>ggplot(diamonds, aes(carat, price)) +
  geom_bin2d()</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-16.png" width="672" /></p>
<pre class="r"><code>ggplot(diamonds, aes(log10(carat), log10(price))) +
  geom_bin2d()</code></pre>
<p><img src="Journal_files/figure-html/unnamed-chunk-46-17.png" width="672" /></p>
<p><span class="math display">\[\\[2in]\]</span></p>
<p>[Assignment 5 coming soon]</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
